â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“š ç¬¬ 29 ç« ï¼šæ•°æ®åº“ç»´æŠ¤
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“– å­¦ä¹ ç›®æ ‡
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
âœ“ äº†è§£æ•°æ®åº“å¤‡ä»½çš„é‡è¦æ€§
âœ“ æŒæ¡å¸¸ç”¨çš„ç»´æŠ¤å‘½ä»¤
âœ“ å­¦ä¼šè¯Šæ–­å’Œä¿®å¤è¡¨
âœ“ ç†è§£æ—¥å¿—æ–‡ä»¶çš„ä½œç”¨

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“ æ ¸å¿ƒçŸ¥è¯†ç‚¹
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

1ï¸âƒ£  ä¸ºä»€ä¹ˆéœ€è¦ç»´æŠ¤
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   æ•°æ®åº“ç»´æŠ¤ç¡®ä¿ï¼š
   âœ“ æ•°æ®å®‰å…¨ï¼ˆå¤‡ä»½å’Œæ¢å¤ï¼‰
   âœ“ æ€§èƒ½ä¼˜åŒ–ï¼ˆç´¢å¼•ä¼˜åŒ–ï¼‰
   âœ“ é—®é¢˜è¯Šæ–­ï¼ˆæ£€æŸ¥å’Œä¿®å¤ï¼‰
   âœ“ æ—¥å¿—ç®¡ç†ï¼ˆç›‘æ§å’Œå®¡è®¡ï¼‰


2ï¸âƒ£  å¤‡ä»½æ•°æ®
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   å¤‡ä»½çš„é‡è¦æ€§ï¼š
   â€¢ ç¡¬ä»¶æ•…éšœ
   â€¢ è½¯ä»¶bug
   â€¢ äººä¸ºé”™è¯¯
   â€¢ å®‰å…¨æ”»å‡»
   
   å¤‡ä»½ç­–ç•¥ï¼š
   â€¢ å®šæœŸå¤‡ä»½ï¼ˆæ¯æ—¥/æ¯å‘¨ï¼‰
   â€¢ å¤šåœ°å­˜å‚¨
   â€¢ æµ‹è¯•æ¢å¤


3ï¸âƒ£  mysqldump - é€»è¾‘å¤‡ä»½
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   å¤‡ä»½å•ä¸ªæ•°æ®åº“ï¼š
   mysqldump -u root -p crashcourse > backup.sql
   
   å¤‡ä»½æ‰€æœ‰æ•°æ®åº“ï¼š
   mysqldump -u root -p --all-databases > all_backup.sql
   
   å¤‡ä»½ç‰¹å®šè¡¨ï¼š
   mysqldump -u root -p crashcourse customers orders
   > tables_backup.sql
   
   æ¢å¤å¤‡ä»½ï¼š
   mysql -u root -p crashcourse < backup.sql


4ï¸âƒ£  ANALYZE TABLE - åˆ†æè¡¨
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   ANALYZE TABLE table_name;
   
   ä½œç”¨ï¼š
   â€¢ åˆ†æè¡¨çš„å…³é”®å­—åˆ†å¸ƒ
   â€¢ æ›´æ–°ç´¢å¼•ç»Ÿè®¡ä¿¡æ¯
   â€¢ å¸®åŠ©ä¼˜åŒ–å™¨åšå‡ºæ›´å¥½çš„å†³ç­–
   
   ç¤ºä¾‹ï¼š
   ANALYZE TABLE customers;
   ANALYZE TABLE products, orders;


5ï¸âƒ£  CHECK TABLE - æ£€æŸ¥è¡¨
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   CHECK TABLE table_name;
   
   ä½œç”¨ï¼š
   â€¢ æ£€æŸ¥è¡¨æ˜¯å¦å­˜åœ¨é”™è¯¯
   â€¢ æ£€æŸ¥ç´¢å¼•æ˜¯å¦æ­£ç¡®
   â€¢ æ£€æŸ¥æ•°æ®æ–‡ä»¶
   
   ç¤ºä¾‹ï¼š
   CHECK TABLE customers;
   CHECK TABLE products, orders;


6ï¸âƒ£  OPTIMIZE TABLE - ä¼˜åŒ–è¡¨
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   OPTIMIZE TABLE table_name;
   
   ä½œç”¨ï¼š
   â€¢ å›æ”¶æœªä½¿ç”¨çš„ç©ºé—´
   â€¢ æ•´ç†æ•°æ®ç¢ç‰‡
   â€¢ æ›´æ–°ç´¢å¼•ç»Ÿè®¡
   
   ç¤ºä¾‹ï¼š
   OPTIMIZE TABLE customers;
   
   æ³¨æ„ï¼š
   â€¢ å¯¹ InnoDB è¡¨ï¼Œç›¸å½“äº ALTER TABLE ... ENGINE=InnoDB
   â€¢ ä¼šé”å®šè¡¨
   â€¢ å¤§è¡¨å¯èƒ½è€—æ—¶å¾ˆé•¿


7ï¸âƒ£  REPAIR TABLE - ä¿®å¤è¡¨
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   REPAIR TABLE table_name;
   
   ä½œç”¨ï¼š
   â€¢ ä¿®å¤æŸåçš„è¡¨
   â€¢ ä¸»è¦ç”¨äº MyISAM è¡¨
   â€¢ InnoDB é€šå¸¸è‡ªåŠ¨ä¿®å¤
   
   ç¤ºä¾‹ï¼š
   REPAIR TABLE customers;


8ï¸âƒ£  æŸ¥çœ‹æœåŠ¡å™¨çŠ¶æ€
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   æŸ¥çœ‹è¿è¡ŒçŠ¶æ€ï¼š
   SHOW STATUS;
   
   æŸ¥çœ‹ç‰¹å®šçŠ¶æ€ï¼š
   SHOW STATUS LIKE 'Threads%';
   SHOW STATUS LIKE 'Uptime';
   SHOW STATUS LIKE 'Slow_queries';
   
   æŸ¥çœ‹è¿›ç¨‹åˆ—è¡¨ï¼š
   SHOW PROCESSLIST;


9ï¸âƒ£  æ—¥å¿—æ–‡ä»¶
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   é”™è¯¯æ—¥å¿—ï¼š
   â€¢ è®°å½•å¯åŠ¨ã€è¿è¡Œã€åœæ­¢çš„é—®é¢˜
   â€¢ é€šå¸¸åœ¨æ•°æ®ç›®å½•
   
   æŸ¥è¯¢æ—¥å¿—ï¼š
   â€¢ è®°å½•æ‰€æœ‰SQLè¯­å¥
   â€¢ ç”¨äºè°ƒè¯•
   â€¢ æ€§èƒ½å½±å“å¤§ï¼Œä¸€èˆ¬ä¸å¼€å¯
   
   æ…¢æŸ¥è¯¢æ—¥å¿—ï¼š
   â€¢ è®°å½•æ‰§è¡Œç¼“æ…¢çš„æŸ¥è¯¢
   â€¢ ç”¨äºæ€§èƒ½ä¼˜åŒ–
   
   äºŒè¿›åˆ¶æ—¥å¿—ï¼š
   â€¢ è®°å½•æ•°æ®å˜æ›´
   â€¢ ç”¨äºå¤åˆ¶å’Œæ¢å¤


ğŸ”Ÿ  æŸ¥çœ‹æ—¥å¿—è®¾ç½®
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   æŸ¥çœ‹é”™è¯¯æ—¥å¿—ä½ç½®ï¼š
   SHOW VARIABLES LIKE 'log_error';
   
   æŸ¥çœ‹æŸ¥è¯¢æ—¥å¿—è®¾ç½®ï¼š
   SHOW VARIABLES LIKE 'general_log%';
   
   æŸ¥çœ‹æ…¢æŸ¥è¯¢æ—¥å¿—ï¼š
   SHOW VARIABLES LIKE 'slow_query%';
   
   æŸ¥çœ‹äºŒè¿›åˆ¶æ—¥å¿—ï¼š
   SHOW VARIABLES LIKE 'log_bin%';

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ¯ å®è·µä»»åŠ¡
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ“ åŸºç¡€ç»ƒä¹ 
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ç»ƒä¹  1: åˆ†æè¡¨
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
åˆ†æ customers è¡¨

ä½ çš„SQLï¼š
  ANALYZE TABLE customers;


ç»ƒä¹  2: æ£€æŸ¥è¡¨
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
æ£€æŸ¥ orders è¡¨æ˜¯å¦æœ‰é”™è¯¯

ä½ çš„SQLï¼š
  CHECK TABLE orders;


ç»ƒä¹  3: æŸ¥çœ‹æœåŠ¡å™¨çŠ¶æ€
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
æŸ¥çœ‹MySQLè¿è¡Œæ—¶é—´

ä½ çš„SQLï¼š
  SHOW STATUS LIKE 'Uptime';


ç»ƒä¹  4: æŸ¥çœ‹æ…¢æŸ¥è¯¢æ•°é‡
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
æŸ¥çœ‹æœ‰å¤šå°‘æ…¢æŸ¥è¯¢

ä½ çš„SQLï¼š
  SHOW STATUS LIKE 'Slow_queries';


ç»ƒä¹  5: æŸ¥çœ‹å½“å‰è¿›ç¨‹
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
æŸ¥çœ‹æ­£åœ¨æ‰§è¡Œçš„æŸ¥è¯¢

ä½ çš„SQLï¼š
  SHOW PROCESSLIST;


ç»ƒä¹  6: æŸ¥çœ‹æ—¥å¿—è®¾ç½®
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
æŸ¥çœ‹é”™è¯¯æ—¥å¿—ä½ç½®

ä½ çš„SQLï¼š
  SHOW VARIABLES LIKE 'log_error';

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸš€ è¿›é˜¶æŒ‘æˆ˜
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

æŒ‘æˆ˜ 1: å®Œæ•´çš„è¡¨ç»´æŠ¤æµç¨‹
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
å¯¹è¡¨æ‰§è¡Œå®Œæ•´ç»´æŠ¤

ä½ çš„SQLï¼š
  -- 1. æ£€æŸ¥è¡¨
  CHECK TABLE customers;
  
  -- 2. åˆ†æè¡¨
  ANALYZE TABLE customers;
  
  -- 3. ä¼˜åŒ–è¡¨ï¼ˆæ³¨æ„ï¼šä¼šé”è¡¨ï¼‰
  -- OPTIMIZE TABLE customers;


æŒ‘æˆ˜ 2: æ‰¹é‡ç»´æŠ¤
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ç»´æŠ¤å¤šä¸ªè¡¨

ä½ çš„SQLï¼š
  -- åˆ†ææ‰€æœ‰æ ¸å¿ƒè¡¨
  ANALYZE TABLE customers, orders, products, vendors;
  
  -- æ£€æŸ¥æ‰€æœ‰æ ¸å¿ƒè¡¨
  CHECK TABLE customers, orders, products, vendors;


æŒ‘æˆ˜ 3: æŸ¥çœ‹è¡¨å¤§å°
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
æŸ¥çœ‹æ¯ä¸ªè¡¨å ç”¨çš„ç©ºé—´

ä½ çš„SQLï¼š
  SELECT 
      table_name AS 'Table',
      ROUND(((data_length + index_length) / 1024 / 1024), 2) 
      AS 'Size (MB)'
  FROM information_schema.TABLES
  WHERE table_schema = 'crashcourse'
  ORDER BY (data_length + index_length) DESC;


æŒ‘æˆ˜ 4: ç›‘æ§è¿æ¥æ•°
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
æŸ¥çœ‹è¿æ¥ç›¸å…³ä¿¡æ¯

ä½ çš„SQLï¼š
  SHOW STATUS LIKE 'Threads%';
  SHOW STATUS LIKE 'Connections';
  SHOW STATUS LIKE 'Max_used_connections';

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ’¡ é‡è¦æç¤º
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

âš ï¸  å¤‡ä»½è‡³å…³é‡è¦
   â€¢ å®šæœŸå¤‡ä»½æ˜¯ç¬¬ä¸€è¦åŠ¡
   â€¢ æµ‹è¯•å¤‡ä»½çš„æ¢å¤
   â€¢ å¤šåœ°å­˜å‚¨å¤‡ä»½æ–‡ä»¶
   â€¢ è‡ªåŠ¨åŒ–å¤‡ä»½æµç¨‹

âš ï¸  ç»´æŠ¤çª—å£
   â€¢ é€‰æ‹©ä½å³°æ—¶æ®µç»´æŠ¤
   â€¢ OPTIMIZE ä¼šé”å®šè¡¨
   â€¢ æå‰é€šçŸ¥ç”¨æˆ·
   â€¢ å‡†å¤‡å›æ»šæ–¹æ¡ˆ

âš ï¸  InnoDB vs MyISAM
   InnoDBï¼š
   â€¢ è‡ªåŠ¨å´©æºƒæ¢å¤
   â€¢ OPTIMIZE ç­‰äºé‡å»ºè¡¨
   â€¢ æ›´å¯é 
   
   MyISAMï¼š
   â€¢ éœ€è¦æ‰‹åŠ¨ REPAIR
   â€¢ OPTIMIZE æ›´æœ‰æ•ˆ
   â€¢ è¾ƒè€çš„å¼•æ“

âš ï¸  æ—¥å¿—ç®¡ç†
   â€¢ æŸ¥è¯¢æ—¥å¿—å½±å“æ€§èƒ½
   â€¢ åªåœ¨è°ƒè¯•æ—¶å¼€å¯
   â€¢ æ…¢æŸ¥è¯¢æ—¥å¿—å¾ˆæœ‰ç”¨
   â€¢ å®šæœŸæ¸…ç†æ—§æ—¥å¿—

âš ï¸  ç›‘æ§æŒ‡æ ‡
   é‡è¦æŒ‡æ ‡ï¼š
   â€¢ Uptimeï¼šè¿è¡Œæ—¶é—´
   â€¢ Connectionsï¼šè¿æ¥æ•°
   â€¢ Slow_queriesï¼šæ…¢æŸ¥è¯¢æ•°
   â€¢ Threads_connectedï¼šå½“å‰è¿æ¥
   â€¢ Questionsï¼šæŸ¥è¯¢æ€»æ•°

âš ï¸  æ€§èƒ½å½±å“
   ç»´æŠ¤å‘½ä»¤å¯èƒ½ï¼š
   â€¢ é”å®šè¡¨
   â€¢ æ¶ˆè€—CPUå’ŒI/O
   â€¢ å½±å“æ­£å¸¸ä¸šåŠ¡
   â€¢ éœ€è¦åœ¨ä½å³°æœŸæ‰§è¡Œ

âš ï¸  è‡ªåŠ¨åŒ–
   ä½¿ç”¨è„šæœ¬è‡ªåŠ¨åŒ–ï¼š
   â€¢ å®šæœŸå¤‡ä»½
   â€¢ å®šæœŸåˆ†æè¡¨
   â€¢ ç›‘æ§å‘Šè­¦
   â€¢ æ—¥å¿—è½®è½¬

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“Š å®æˆ˜ç¤ºä¾‹
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ç¤ºä¾‹ 1: å¤‡ä»½æ•°æ®åº“ï¼ˆå‘½ä»¤è¡Œï¼‰
  # å¤‡ä»½å•ä¸ªæ•°æ®åº“
  mysqldump -u root -p crashcourse > crash_backup.sql
  
  # å¤‡ä»½æ‰€æœ‰æ•°æ®åº“
  mysqldump -u root -p --all-databases > all_backup.sql
  
  # å‹ç¼©å¤‡ä»½
  mysqldump -u root -p crashcourse | gzip > crash_backup.sql.gz


ç¤ºä¾‹ 2: æ¢å¤æ•°æ®åº“ï¼ˆå‘½ä»¤è¡Œï¼‰
  # æ¢å¤æ•°æ®åº“
  mysql -u root -p crashcourse < crash_backup.sql
  
  # ä»å‹ç¼©æ–‡ä»¶æ¢å¤
  gunzip < crash_backup.sql.gz | mysql -u root -p crashcourse


ç¤ºä¾‹ 3: åˆ†æè¡¨
  ANALYZE TABLE customers;
  ANALYZE TABLE products, orders, orderitems;


ç¤ºä¾‹ 4: æ£€æŸ¥è¡¨
  CHECK TABLE customers;
  CHECK TABLE customers EXTENDED;  -- æ›´å½»åº•çš„æ£€æŸ¥


ç¤ºä¾‹ 5: ä¼˜åŒ–è¡¨
  OPTIMIZE TABLE customers;
  -- æ³¨æ„ï¼šä¼šé”å®šè¡¨ï¼Œå¤§è¡¨è€—æ—¶å¯èƒ½å¾ˆé•¿


ç¤ºä¾‹ 6: æŸ¥çœ‹æœåŠ¡å™¨çŠ¶æ€
  SHOW STATUS;
  SHOW STATUS LIKE 'Uptime';
  SHOW STATUS LIKE 'Slow_queries';
  SHOW STATUS LIKE 'Threads%';


ç¤ºä¾‹ 7: æŸ¥çœ‹è¿›ç¨‹
  SHOW PROCESSLIST;
  SHOW FULL PROCESSLIST;  -- æ˜¾ç¤ºå®Œæ•´SQL


ç¤ºä¾‹ 8: æŸ¥çœ‹è¡¨å¤§å°
  SELECT 
      table_name,
      ROUND(((data_length + index_length) / 1024 / 1024), 2) 
      AS 'Size (MB)'
  FROM information_schema.TABLES
  WHERE table_schema = 'crashcourse';


ç¤ºä¾‹ 9: æŸ¥çœ‹æ•°æ®åº“å¤§å°
  SELECT 
      table_schema AS 'Database',
      SUM(data_length + index_length) / 1024 / 1024 
      AS 'Size (MB)'
  FROM information_schema.TABLES
  GROUP BY table_schema;


ç¤ºä¾‹ 10: æŸ¥çœ‹ç´¢å¼•ä½¿ç”¨æƒ…å†µ
  SHOW INDEX FROM customers;

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“ çŸ¥è¯†æ£€æŸ¥ç‚¹
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

â–¡ ä½ ç†è§£å¤‡ä»½çš„é‡è¦æ€§å—ï¼Ÿ
â–¡ ä½ çŸ¥é“å¦‚ä½•ä½¿ç”¨ mysqldump å—ï¼Ÿ
â–¡ ä½ ä¼šä½¿ç”¨ ANALYZE TABLE å—ï¼Ÿ
â–¡ ä½ ä¼šä½¿ç”¨ CHECK TABLE å—ï¼Ÿ
â–¡ ä½ äº†è§£ OPTIMIZE TABLE çš„ä½œç”¨å—ï¼Ÿ
â–¡ ä½ çŸ¥é“å¦‚ä½•æŸ¥çœ‹æœåŠ¡å™¨çŠ¶æ€å—ï¼Ÿ
â–¡ ä½ äº†è§£ä¸åŒç±»å‹çš„æ—¥å¿—å—ï¼Ÿ
â–¡ ä½ çŸ¥é“ç»´æŠ¤å‘½ä»¤çš„æ€§èƒ½å½±å“å—ï¼Ÿ

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ” ç»´æŠ¤æœ€ä½³å®è·µ
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

1. å¤‡ä»½ç­–ç•¥
   âœ“ æ¯æ—¥å¢é‡å¤‡ä»½
   âœ“ æ¯å‘¨å®Œæ•´å¤‡ä»½
   âœ“ å¼‚åœ°å­˜å‚¨å¤‡ä»½
   âœ“ å®šæœŸæµ‹è¯•æ¢å¤
   âœ“ è‡ªåŠ¨åŒ–å¤‡ä»½è„šæœ¬

2. å®šæœŸç»´æŠ¤
   âœ“ æ¯å‘¨åˆ†æå…³é”®è¡¨
   âœ“ æ¯æœˆæ£€æŸ¥æ‰€æœ‰è¡¨
   âœ“ å­£åº¦ä¼˜åŒ–å¤§è¡¨
   âœ“ åœ¨ä½å³°æœŸæ‰§è¡Œ

3. ç›‘æ§
   âœ“ ç›‘æ§æ…¢æŸ¥è¯¢
   âœ“ ç›‘æ§è¿æ¥æ•°
   âœ“ ç›‘æ§ç£ç›˜ç©ºé—´
   âœ“ è®¾ç½®å‘Šè­¦

4. æ—¥å¿—ç®¡ç†
   âœ“ å¯ç”¨æ…¢æŸ¥è¯¢æ—¥å¿—
   âœ“ å®šæœŸåˆ†ææ—¥å¿—
   âœ“ å®šæœŸæ¸…ç†æ—§æ—¥å¿—
   âœ“ å½’æ¡£é‡è¦æ—¥å¿—

5. æ€§èƒ½ä¼˜åŒ–
   âœ“ å®šæœŸåˆ†ææ…¢æŸ¥è¯¢
   âœ“ ä¼˜åŒ–è¡¨ç»“æ„
   âœ“ æ·»åŠ åˆé€‚çš„ç´¢å¼•
   âœ“ æ¸…ç†æ— ç”¨æ•°æ®

6. æ–‡æ¡£è®°å½•
   âœ“ è®°å½•ç»´æŠ¤è®¡åˆ’
   âœ“ è®°å½•å˜æ›´å†å²
   âœ“ è®°å½•é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ
   âœ“ æ›´æ–°æ“ä½œæ‰‹å†Œ

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“‹ ç»´æŠ¤æ£€æŸ¥æ¸…å•
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

æ¯æ—¥ï¼š
â–¡ æ£€æŸ¥å¤‡ä»½æ˜¯å¦æˆåŠŸ
â–¡ æ£€æŸ¥é”™è¯¯æ—¥å¿—
â–¡ ç›‘æ§ç£ç›˜ç©ºé—´

æ¯å‘¨ï¼š
â–¡ åˆ†æå…³é”®è¡¨
â–¡ æ£€æŸ¥æ…¢æŸ¥è¯¢æ—¥å¿—
â–¡ å®¡æŸ¥è¿æ¥æ•°

æ¯æœˆï¼š
â–¡ æ£€æŸ¥æ‰€æœ‰è¡¨
â–¡ ä¼˜åŒ–å¿…è¦çš„è¡¨
â–¡ å®¡æŸ¥ç”¨æˆ·æƒé™
â–¡ æ¸…ç†æ—§æ—¥å¿—

æ¯å­£åº¦ï¼š
â–¡ æµ‹è¯•å¤‡ä»½æ¢å¤
â–¡ å®¡æŸ¥å®‰å…¨è®¾ç½®
â–¡ æ€§èƒ½åŸºå‡†æµ‹è¯•
â–¡ å®¹é‡è§„åˆ’

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ¨ æœ¬ç« å°ç»“
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ä½ å·²ç»å­¦ä¼šäº†ï¼š
âœ“ ç†è§£æ•°æ®åº“ç»´æŠ¤çš„é‡è¦æ€§
âœ“ ä½¿ç”¨ mysqldump å¤‡ä»½å’Œæ¢å¤
âœ“ ä½¿ç”¨ ANALYZE TABLE åˆ†æè¡¨
âœ“ ä½¿ç”¨ CHECK TABLE æ£€æŸ¥è¡¨
âœ“ ä½¿ç”¨ OPTIMIZE TABLE ä¼˜åŒ–è¡¨
âœ“ æŸ¥çœ‹æœåŠ¡å™¨çŠ¶æ€å’Œè¿›ç¨‹
âœ“ äº†è§£ä¸åŒç±»å‹çš„æ—¥å¿—
âœ“ æŒæ¡ç»´æŠ¤æœ€ä½³å®è·µ

æ ¸å¿ƒè¦ç‚¹ï¼š
â€¢ å¤‡ä»½æ˜¯æœ€é‡è¦çš„ç»´æŠ¤ä»»åŠ¡
â€¢ å®šæœŸåˆ†æå’Œæ£€æŸ¥è¡¨ä¿æŒå¥åº·
â€¢ OPTIMIZE TABLE ä¼šé”è¡¨ï¼Œè°¨æ…ä½¿ç”¨
â€¢ ç›‘æ§æœåŠ¡å™¨çŠ¶æ€å’Œæ…¢æŸ¥è¯¢
â€¢ åˆ¶å®šç»´æŠ¤è®¡åˆ’å¹¶ä¸¥æ ¼æ‰§è¡Œ

ä¸‹ä¸€ç« ï¼ˆæœ€åä¸€ç« ï¼‰å°†å­¦ä¹ æ”¹å–„æ€§èƒ½ï¼

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ’» åŠ¨æ‰‹å®è·µ
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
å®‰å…¨çš„ç»´æŠ¤å‘½ä»¤ï¼š

-- åˆ†æè¡¨
ANALYZE TABLE customers;

-- æ£€æŸ¥è¡¨
CHECK TABLE customers;

-- æŸ¥çœ‹æœåŠ¡å™¨çŠ¶æ€
SHOW STATUS;
SHOW STATUS LIKE 'Uptime';
SHOW STATUS LIKE 'Slow_queries';

-- æŸ¥çœ‹è¿›ç¨‹
SHOW PROCESSLIST;

-- æŸ¥çœ‹è¡¨å¤§å°
SELECT 
    table_name,
    ROUND(((data_length + index_length) / 1024 / 1024), 2) 
    AS 'Size (MB)'
FROM information_schema.TABLES
WHERE table_schema = 'crashcourse';

âš ï¸  ä¸è¦åœ¨ç”Ÿäº§ç¯å¢ƒéšæ„æ‰§è¡Œ OPTIMIZE
    å®ƒä¼šé”å®šè¡¨ï¼Œå½±å“æ­£å¸¸ä¸šåŠ¡

æ•°æ®åº“ç»´æŠ¤æ˜¯ä¿è¯ç³»ç»Ÿç¨³å®šè¿è¡Œçš„å…³é”®ï¼

